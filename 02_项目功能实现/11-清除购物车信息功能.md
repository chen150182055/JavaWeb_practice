## 清除购物车信息

* 购物车信息存放到session作用域中，所以只要清除购物车信息就可以了(CleanCartServlet)

  ```java
  protected void doGet(HttpServletRequest request, HttpServletResponse response)
  	    throws ServletException, IOException {
  	HttpSession session = request.getSession();
  	session.removeAttribute("cart");
  	response.sendRedirect("cart.jsp");
      }
  ```




## 删除购物车中指定商品的功能

* 删除购物车中某个商品就是去hashmap中移除对应的商品就可以了（DeleteCartItemServlet）

  ```java
  protected void doGet(HttpServletRequest request, HttpServletResponse response)throws ServletException, IOException {
      
  	String pid = request.getParameter("pid");
  	HttpSession session = request.getSession();
  	Cart cart = (Cart) session.getAttribute("cart");
  	Map<String, CartItem> cartItems = cart.getCartItems();
  	cartItems.remove(pid);
      //如果购物车中没有商品，则清空购物车
  	if (cartItems.size() == 0) {
  	    session.removeAttribute("cart");
  	}
  
  	response.sendRedirect("cart.jsp");
      }
  ```

  